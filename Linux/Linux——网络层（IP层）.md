目前IP协议有两种版本：
- IPv4（因特网协议第四版）：由于地址仅有32位，预计2020年左右分配完毕。
- IPv6（因特网协议第六版）：为了应对IPV4地址枯竭的问题，诞生了IPv6。ipv6的地址可以达到128位，这样的IP数据几乎是用不完的。不过，由于IPv6与IPv4协议互不兼容，需要从上而上大幅更换软硬件设施，因此推广问题值得关注。

IP的组成是32位的数据，即由32个0与1组成的一连串数字。为了方便读写，将32位分为四小段，每段8位，又将每段换算为十进制，并且每段以小数点隔开，这就形成了我们日常见到的IP地址。例如：

```
00000000.00000000.00000000.00000000   ==>  0.0.0.0
11111111.11111111.11111111.11111111   ==>  255.255.255.255
```

这串数字中，又分为网络号码和主机号码。在同一个物理网段内，主机的IP具有相同的网络号码，并且具有唯一的主机号码。同时，同一个物理网段内，可以根据不同的IP设置，而设置成多个“IP网络”，也叫“子网段”。

另外，主机号码不能全部为0或1，全部为0表示整个网段的地址，全部为1表示广播地址。

为了便于管理和方法，IP地址被分为了五类：
- A类： 网络号码的开头是0,0.xx.xx.xx ~ 127.xx.xx.xx
- B类:  网络号码的开头是10  128.xx.xx.xx ~ 191.xx.xx.xx
- C类  网络号码的开头是110  192.xx.xx.xx ~ 223.xx.xx.xx
- D类  网络号码的开头是1110   224.xx.xx.xx  ~ 239.xx.xx.xx   组播使用
- E类  网络号码的开头是1111   240.xx.xx.xx ~ 255.xx.xx.xx   保留网段

能够用来一般系统上面的，只有A类、B类、C类地址，而普通人大概率只能申请到C类地址。

但是，上面的A、B、C类地址显示是不够用的，如果一个企业有10台主机，就要购买10个IP吗？为了解决这个问题，又提出了公有地址和私有地址。一个企业持有一个公有地址，下面可以规划若干了私有地址，这就解决了企业内部的IP地址问题。私有地址包括：

- A类私有地址： 10.0.0.0  ~  10.255.255.255
- B类私有地址 ： 172.16.0.0   ~  172.31.255.255
- C类私有地址 ： 192.168.0.0  ~  192.168.255.255
## 路由

同一个网络段的主机可以直接通信，那么不同网络段呢？每一台主机都有一个路由表，每台主机传递数据时依据这个路由表决定“下一跳”。

## NAT（网络地址转换）

如果私有IP要访问公网，需要通过NAT（网络地址转换）。一个公网IP加一个端口号映射到私有地址，这样私有地址的主机就可以访问公网了。

我们的手机可以访问公网，是因为连接到WiFi后，就会得到一个私有地址，持有公网IP的网络地址转换访问的公网。



