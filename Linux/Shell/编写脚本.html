<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>脚本 | 我的个人博客网站</title>
    <meta name="description" content="个人博客网站">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/blog/assets/style.Dan5zzQf.css" as="style">
    <link rel="preload stylesheet" href="/blog/vp-icons.css" as="style">
    
    <script type="module" src="/blog/assets/app.CebyLLM_.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.BOSPpO_w.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.rTUm5mJw.js">
    <link rel="modulepreload" href="/blog/assets/Linux_Shell_编写脚本.md.BJQ2htb_.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bd45b254><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40f86efc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-40f86efc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-bd45b254 data-v-fb232767><div class="VPNavBar" data-v-fb232767 data-v-da0c6bb0><div class="wrapper" data-v-da0c6bb0><div class="container" data-v-da0c6bb0><div class="title" data-v-da0c6bb0><div class="VPNavBarTitle" data-v-da0c6bb0 data-v-dcd02d3b><a class="title" href="/blog/" data-v-dcd02d3b><!--[--><!--]--><!----><span data-v-dcd02d3b>我的个人博客网站</span><!--[--><!--]--></a></div></div><div class="content" data-v-da0c6bb0><div class="content-body" data-v-da0c6bb0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-da0c6bb0><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-da0c6bb0 data-v-60d4da9a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-60d4da9a data-v-dd4d226c data-v-27e5f2a7><span class="check" data-v-27e5f2a7><span class="icon" data-v-27e5f2a7><!--[--><span class="vpi-sun sun" data-v-dd4d226c></span><span class="vpi-moon moon" data-v-dd4d226c></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-da0c6bb0 data-v-700cb35d data-v-ec49d971><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ec49d971><span class="vpi-more-horizontal icon" data-v-ec49d971></span></button><div class="menu" data-v-ec49d971><div class="VPMenu" data-v-ec49d971 data-v-381ce922><!----><!--[--><!--[--><!----><div class="group" data-v-700cb35d><div class="item appearance" data-v-700cb35d><p class="label" data-v-700cb35d>Appearance</p><div class="appearance-action" data-v-700cb35d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-700cb35d data-v-dd4d226c data-v-27e5f2a7><span class="check" data-v-27e5f2a7><span class="icon" data-v-27e5f2a7><!--[--><span class="vpi-sun sun" data-v-dd4d226c></span><span class="vpi-moon moon" data-v-dd4d226c></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-da0c6bb0 data-v-aa5c404b><span class="container" data-v-aa5c404b><span class="top" data-v-aa5c404b></span><span class="middle" data-v-aa5c404b></span><span class="bottom" data-v-aa5c404b></span></span></button></div></div></div></div><div class="divider" data-v-da0c6bb0><div class="divider-line" data-v-da0c6bb0></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-bd45b254 data-v-1337b658><div class="container" data-v-1337b658><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1337b658 data-v-05f14d6b><button data-v-05f14d6b>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-bd45b254 data-v-d83a6a16><div class="VPDoc has-aside" data-v-d83a6a16 data-v-ddd4901f><!--[--><!--]--><div class="container" data-v-ddd4901f><div class="aside" data-v-ddd4901f><div class="aside-curtain" data-v-ddd4901f></div><div class="aside-container" data-v-ddd4901f><div class="aside-content" data-v-ddd4901f><div class="VPDocAside" data-v-ddd4901f data-v-9ff60a05><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-9ff60a05 data-v-7cf8e59d><div class="content" data-v-7cf8e59d><div class="outline-marker" data-v-7cf8e59d></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-7cf8e59d>On this page</div><ul class="VPDocOutlineItem root" data-v-7cf8e59d data-v-385136ab><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-9ff60a05></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ddd4901f><div class="content-container" data-v-ddd4901f><!--[--><!--]--><main class="main" data-v-ddd4901f><div style="position:relative;" class="vp-doc _blog_Linux_Shell_%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC" data-v-ddd4901f><div><h1 id="脚本" tabindex="-1">脚本 <a class="header-anchor" href="#脚本" aria-label="Permalink to &quot;脚本&quot;">​</a></h1><h2 id="声明变量" tabindex="-1">声明变量 <a class="header-anchor" href="#声明变量" aria-label="Permalink to &quot;声明变量&quot;">​</a></h2><p>变量在Linux脚本中非常常见。</p><p>声明变量很简单，只需要使用等号将变量名和变量值连接起来即可：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>a=1</span></span>
<span class="line"><span>str=hello</span></span>
<span class="line"><span>echo $a</span></span>
<span class="line"><span>echo $str</span></span></code></pre></div><p>如果值有空格，则需要使用引号：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">str</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =&quot;hello bash&quot;</span></span></code></pre></div><p>要特别注意，等号两边不能有空格，下面的命令是错的：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>a  =  1</span></span>
<span class="line"><span>bash: a: command not found</span></span></code></pre></div><p>bash会把a当做命令、= 和1当做参数去执行。</p><h2 id="打印变量" tabindex="-1">打印变量 <a class="header-anchor" href="#打印变量" aria-label="Permalink to &quot;打印变量&quot;">​</a></h2><p>使用echo加上美元符号$和花括号打印变量：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>echo $PATH</span></span>
<span class="line"><span>echo ${PATH}</span></span></code></pre></div><p>如果变量名称不存在空格和特殊字符，上面两种方式都可以。如果存在空格或特殊字符，变量名称就要用花括号括起来。</p><h2 id="字符串转义" tabindex="-1">字符串转义 <a class="header-anchor" href="#字符串转义" aria-label="Permalink to &quot;字符串转义&quot;">​</a></h2><p>有些时候我们恰好需要用到特殊字符本来的含义，例如：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;coffee is </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$five</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span></code></pre></div><p>这里会找到名为five的变量解析出来，但我们的本意是只想显示“咖啡是5美元”，所以使用转义：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;coffee is </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">five&quot;</span></span></code></pre></div><p>这样就输出了“coffee is $five”。</p><h2 id="变量内容的编辑" tabindex="-1">变量内容的编辑 <a class="header-anchor" href="#变量内容的编辑" aria-label="Permalink to &quot;变量内容的编辑&quot;">​</a></h2><ul><li><code>${变量#关键词}</code> 若变量内容从头开始的数据符合关键词，则将符合的最短数据删除</li><li><code>${变量##关键词}</code> 若变量内容从头开始的数据符合关键词，则将符合的最长数据删除</li><li><code>{变量%关键词}</code> 若变量内容从尾向前的数据符合关键词，则将符合的最短数据删除</li><li><code>{变量%%关键词}</code> 若变量内容从尾向前的数据符合关键词，则将符合的最长数据删除</li><li><code>{变量/旧字符串/新字符串}</code> 若变量内容符合旧字符串，则第一个旧字符串会被新字符串替换</li><li><code>{变量//旧字符串/新字符串}</code> 若变量内容符合旧字符串，则全部的旧字符串会被新字符串替换</li></ul><p>示例：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>str=&quot;hello,hello,world&quot;</span></span>
<span class="line"><span>echo ${str#h*o} # 输出 ,hello,world</span></span>
<span class="line"><span>echo ${str##h*o}  # 输出 rld</span></span>
<span class="line"><span></span></span>
<span class="line"><span>echo ${str/hello/HELLO} # 输出 HELLO,hello,world</span></span>
<span class="line"><span>echo ${str//hello/HELLO} # 输出 HELLO,HELLO,world</span></span></code></pre></div><h2 id="几种特殊的内容替换结构" tabindex="-1">几种特殊的内容替换结构 <a class="header-anchor" href="#几种特殊的内容替换结构" aria-label="Permalink to &quot;几种特殊的内容替换结构&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>${var:-string} </span></span>
<span class="line"><span>${var:+string} </span></span>
<span class="line"><span>${var:=string}</span></span>
<span class="line"><span>${var:?string}</span></span></code></pre></div><p>1、<code>{var:-string}</code>和<code>${var:=string}</code>:若变量var为空，则用在命令行中用string来替换<code>${var:-string}</code>，否则变量var不为空时，则用变量var的值来替换<code>${var:-string}</code>；对于<code>${var:=string}</code>的替换规则和<code>${var:-string}</code>是一样的，所不同之处是<code>${var:=string}</code>若var为空时，用string替换<code>${var:=string}</code>的同时，把string赋给变量var： <code>${var:=string}</code>很常用的一种用法是，判断某个变量是否赋值，没有的话则给它赋上一个默认值。</p><p>2、<code>${var:+string}</code>的替换规则和上面的相反，即只有当var不是空的时候才替换成string，若var为空时则不替换或者说是替换成变量 var的值，即空值。(因为变量var此时为空，所以这两种说法是等价的)</p><p>3、<code>{var:?string}</code>替换规则为：若变量var不为空，则用变量var的值来替换<code>${var:?string}</code>；若变量var为空，则把string输出到标准错误中，并从脚本中退出。我们可利用此特性来检查是否设置了变量的值。</p><p>补充扩展：在上面这五种替换结构中string不一定是常值的，可用另外一个变量的值或是一种命令的输出。</p><h2 id="shell脚本的参数" tabindex="-1">shell脚本的参数 <a class="header-anchor" href="#shell脚本的参数" aria-label="Permalink to &quot;shell脚本的参数&quot;">​</a></h2><p>新建一个Shell脚本1.sh内容如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>echo  $1</span></span></code></pre></div><p>$1表示该脚本的第一个参数，类似的 $2 、$3表示第2、3个参数，以此类推。</p><p>然后运行：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ./test.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  hello</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hello</span></span></code></pre></div><p>另外，$*引用所有参数列表。$#：表示执行脚本传入参数的所有个数</p><h2 id="条件表达式" tabindex="-1">条件表达式 <a class="header-anchor" href="#条件表达式" aria-label="Permalink to &quot;条件表达式&quot;">​</a></h2><p>在脚本中经常会用到条件表达式，条件表达式常用在if语句中，用中括号包裹，各个部分用空格隔开，例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if [ 2 -eq 3 ] then </span></span>
<span class="line"><span>        echo 相等</span></span>
<span class="line"><span>fi</span></span></code></pre></div><p>条件表达式中最常见的情况是比较，比较常用的比较是数值比较和字符串比较。</p><h2 id="数值比较" tabindex="-1">数值比较 <a class="header-anchor" href="#数值比较" aria-label="Permalink to &quot;数值比较&quot;">​</a></h2><p>与数学公式不同，数值比较需要用到-gt、-lt、-eq表示大于、小于、等于号，而不能是<code>&gt;</code>、<code>&lt;</code>、=。</p><table tabindex="0"><thead><tr><th>比较运算符</th><th>解释</th><th>示例</th></tr></thead><tbody><tr><td>-eq</td><td>相等</td><td>[ 1 -eq 2 ]</td></tr><tr><td>-ne</td><td>不等于</td><td>[ 1 ne 2 ]</td></tr><tr><td>-ge</td><td>大于等于</td><td>[ 1 -eq 2 ]</td></tr><tr><td>-gt</td><td>大于</td><td>[ 2 -gt 1 ]</td></tr><tr><td>-le</td><td>小于等于</td><td>[ 1 -le 2 ]</td></tr><tr><td>-lt</td><td>小于</td><td>[ 1 -le 2 ]</td></tr></tbody></table><p>表格示例中空格间距比较大，就是为了题型注意各个部分一定要加上空格。</p><h2 id="字符串比较" tabindex="-1">字符串比较 <a class="header-anchor" href="#字符串比较" aria-label="Permalink to &quot;字符串比较&quot;">​</a></h2><p>字符串的比较方式是根据ASCII逐个字母比较，常用的字符串比较运算符如下：</p><table tabindex="0"><thead><tr><th>比较运算符</th><th>含义</th><th>示例</th></tr></thead><tbody><tr><td>=</td><td>相同</td><td>[ &#39;a&#39; = &#39;a&#39; ]</td></tr><tr><td>!=</td><td>不同</td><td>[ &#39;a&#39; != &#39;b&#39; ]</td></tr><tr><td><code>&lt;</code></td><td>小于</td><td><code> [ &#39;a&#39; &lt; &#39;A&#39; ]</code></td></tr><tr><td><code>&gt;</code></td><td>大于</td><td><code> [ &#39;a&#39; &gt; &#39;A&#39; ]</code></td></tr><tr><td>-n str</td><td>字符串str长度是否非0</td><td>[ -n &#39;a&#39; ]</td></tr><tr><td>-z str</td><td>字符串str长度是否为0</td><td>[ -z &#39;&#39; ]</td></tr></tbody></table><h2 id="文件判断" tabindex="-1">文件判断 <a class="header-anchor" href="#文件判断" aria-label="Permalink to &quot;文件判断&quot;">​</a></h2><p>文件判断常用的运算符如下表：</p><table tabindex="0"><thead><tr><th>运算符</th><th>解释</th></tr></thead><tbody><tr><td>-d file</td><td>判断file是否为目录</td></tr><tr><td>-e file</td><td>判断file是否存在</td></tr><tr><td>-f file</td><td>检查file是否为文件</td></tr><tr><td>-r file</td><td>判断文件是否可读</td></tr><tr><td>-s file</td><td>判断file是否存在并非空</td></tr><tr><td>-w file</td><td>判断file是可写</td></tr><tr><td>-x file</td><td>判断file是可执行</td></tr></tbody></table><h2 id="if语句" tabindex="-1">if语句 <a class="header-anchor" href="#if语句" aria-label="Permalink to &quot;if语句&quot;">​</a></h2><p>if语句的作用是根据条件执行不同的指令。if语句的通用语法如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if [ 条件表达式 ]; then</span></span>
<span class="line"><span>    指令</span></span></code></pre></div><p>注意条件表达式各个部分都要有空格，例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if [ 2 -gt 1 ] then </span></span>
<span class="line"><span>        echo 大于 </span></span>
<span class="line"><span>fi</span></span></code></pre></div><p>单分支就是只有一个分支，如同上面的示例。</p><p>双分支有一个if和一个else，例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if [ 2 -eq 3 ]  then </span></span>
<span class="line"><span>        echo 相等</span></span>
<span class="line"><span>else </span></span>
<span class="line"><span>        echo 不相等</span></span>
<span class="line"><span>fi</span></span></code></pre></div><p>多分支有一个以上的elif，例如如下脚本1.sh：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if [ $1 -ge 80 ] then </span></span>
<span class="line"><span>        echo 优秀</span></span>
<span class="line"><span>elif [ $1 -ge 60 ] then </span></span>
<span class="line"><span>        echo 及格</span></span>
<span class="line"><span>else </span></span>
<span class="line"><span>        echo 不及格</span></span>
<span class="line"><span>fi</span></span></code></pre></div><p>这里$1表示传入脚本的第一个参数，运行如下示例：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ bash  1.sh 88</span></span>
<span class="line"><span>优秀</span></span>
<span class="line"><span>$ bash  1.sh 76</span></span>
<span class="line"><span>及格</span></span>
<span class="line"><span>$ bash  1.sh 50</span></span>
<span class="line"><span>不及格</span></span></code></pre></div><h2 id="for循环" tabindex="-1">for循环 <a class="header-anchor" href="#for循环" aria-label="Permalink to &quot;for循环&quot;">​</a></h2><p>for循环的基本语法格式如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>for item in con1 con2 con3</span></span>
<span class="line"><span>do</span></span>
<span class="line"><span>    命令</span></span>
<span class="line"><span>done</span></span></code></pre></div><p>遍历文件</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filelist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 当前目录所有文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filename </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${filelist}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i+1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;第${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}个文件是：${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><p>还有一种写法</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (( 初始值; 限制条件; 赋值))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    程序段</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><p>示例</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (( i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;file${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.txt&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><h2 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h2><h3 id="创建函数" tabindex="-1">创建函数 <a class="header-anchor" href="#创建函数" aria-label="Permalink to &quot;创建函数&quot;">​</a></h3><p>使用关键字:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function 函数名 {</span></span>
<span class="line"><span>    函数体</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>第二种方式是不使用function关键字,但要带上括号,</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>函数名(){</span></span>
<span class="line"><span>    函数体</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="调用函数" tabindex="-1">调用函数 <a class="header-anchor" href="#调用函数" aria-label="Permalink to &quot;调用函数&quot;">​</a></h3><p>要使用函数,直接写上函数名即可,不要带括号。</p><p>一个具体的示例如下:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function Welcome {</span></span>
<span class="line"><span>    read -p &quot;你的名字:&quot; name</span></span>
<span class="line"><span>    echo &quot;你好,${name}&quot; </span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Welcome</span></span></code></pre></div><h3 id="带参数的函数" tabindex="-1">带参数的函数 <a class="header-anchor" href="#带参数的函数" aria-label="Permalink to &quot;带参数的函数&quot;">​</a></h3><p>与脚本的参数一样，函数的参数不需要指定名称，而是使用$1 、$2指代。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function Welcome{</span></span>
<span class="line"><span>  echo &quot;你好，$1&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Welcome 张三  #输出：你好，张三</span></span></code></pre></div><h3 id="函数的返回值" tabindex="-1">函数的返回值 <a class="header-anchor" href="#函数的返回值" aria-label="Permalink to &quot;函数的返回值&quot;">​</a></h3><p>函数使用echo返回值，这与常用的return习惯不太一样。注意，echo在函数体外是向终端输出内容，但在这里表示返回值，也就是说，分两种情况：</p><ul><li>如果有一个变量接住这个函数，此echo就失去了原有的作用——也就不会在终端输出值。</li><li>如果没有变量接住这个函数，那么echo就会在终端输出。</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function Welcome {</span></span>
<span class="line"><span>    echo &quot;你好，$1&quot;  # 此时不会在终端输出</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>out=$(Welcome)  # 变量接住了，没有输出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Welcome 张三  # 没有变量接住，输出 你好，张三</span></span></code></pre></div><h2 id="数组" tabindex="-1">数组 <a class="header-anchor" href="#数组" aria-label="Permalink to &quot;数组&quot;">​</a></h2><p>如果已经知道数组元素，使用如下方式新建数组：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>arr=(1 2 three four)</span></span></code></pre></div><p>空格分隔的每个部分都对应一个元素，如下示例按索引位置打印元素：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>echo ${arr[0]}  ${arr[3]}</span></span>
<span class="line"><span>1 four</span></span></code></pre></div><h2 id="给脚本传递参数" tabindex="-1">给脚本传递参数 <a class="header-anchor" href="#给脚本传递参数" aria-label="Permalink to &quot;给脚本传递参数&quot;">​</a></h2><ul><li><code>$0</code> 第0个参数，即执行文件本身</li><li><code>$1</code> 第1个参数</li><li><code>$n</code> 第n个参数, n是正整数</li><li 10="">注意, 如果参数过多, 达到了两位数,那么就要加花括号,例如 $</li><li><code>$#</code> 表示脚本运行时携带的命令行参数的个数</li><li><code>$*</code>变量会将所有的命令行参数视为一个单词, 该选项不常用</li><li><code>$@</code>变量会将所有的命令行参数视为同一字符串中的多个独立的单词，以便你能通过for循环遍历,</li></ul><p>新建一个Shell脚本test.sh内容如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>echo  &quot;第0个参数也就是脚本名称是：$0&quot;</span></span>
<span class="line"><span>echo  &quot;第1个参数是：$1&quot;</span></span>
<span class="line"><span>echo  &quot;第2个参数是：$2&quot;</span></span>
<span class="line"><span>echo  &quot;参数个数为: $#&quot;</span></span>
<span class="line"><span>echo  &quot;参数列表为: $@&quot;</span></span></code></pre></div><p>$1表示该脚本的第一个参数，类似的 $2 、$3表示第2、3个参数，以此类推。</p><p>然后运行：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ./test.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  hello</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span></span></code></pre></div><p>输出如下结果:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>第0个参数也就是脚本名称是：test.txt</span></span>
<span class="line"><span>第1个参数是：hello</span></span>
<span class="line"><span>第2个参数是：bash</span></span>
<span class="line"><span>参数个数为: 3</span></span>
<span class="line"><span>参数列表为: hello bash shell</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-ddd4901f data-v-d088cbcb><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"DAmnzHkr\",\"linux_ffmpeg.md\":\"FzfWtUVK\",\"linux_git_git-add.md\":\"CPj3v1KF\",\"linux_git_git-bash介绍.md\":\"Bzq7PvYb\",\"linux_git_git-branch分支管理.md\":\"BDQPTwCw\",\"linux_git_git-clone.md\":\"Do9zHSd3\",\"linux_git_git-commit.md\":\"Dadu13Ou\",\"linux_git_git-push.md\":\"DmlZ-ADI\",\"linux_git_git-remote_管理远程仓库.md\":\"DZzf_QBV\",\"linux_git_git常用命令汇总.md\":\"D0UWEhSY\",\"linux_git_git的原理和.git文件夹.md\":\"cKWqWnIK\",\"linux_git_index.md\":\"zCFPICDo\",\"linux_git_个人项目最常用的四个命令.md\":\"C9ZwpfYd\",\"linux_git_安装git.md\":\"75Z2ov_T\",\"linux_git_最佳实践——使用git-clone而不是git-init.md\":\"DcmDpy2l\",\"linux_git_查看提交历史.md\":\"BUToX9Gp\",\"linux_git_标签.md\":\"CPVtIcyD\",\"linux_git_版本回退.md\":\"BB2bprDN\",\"linux_git_配置用户名、邮箱和ssh秘钥.md\":\"C2shR9Pw\",\"linux_index.md\":\"BLHgTLhR\",\"linux_linux与内核_linux的进程和服务.md\":\"CgcyXAD9\",\"linux_linux与内核_分区管理.md\":\"B-d-boFm\",\"linux_shell_awk工具.md\":\"DI9MPl-Q\",\"linux_shell_bash-shell.md\":\"BAwG1KEh\",\"linux_shell_powershell.md\":\"DE9ve-LS\",\"linux_shell_sed工具.md\":\"BchXtfTS\",\"linux_shell_vim.md\":\"C9t0HI4M\",\"linux_shell_命令行语法规则.md\":\"CKa4oI0F\",\"linux_shell_常用命令.md\":\"d1RtVUnL\",\"linux_shell_文件权限.md\":\"DgfXtjAi\",\"linux_shell_文件系统管理.md\":\"DlB7-tGy\",\"linux_shell_管道和多命令组合.md\":\"BIZy1uC3\",\"linux_shell_编写脚本.md\":\"BJQ2htb_\",\"linux_virtualbox.md\":\"Ccyc3hHm\",\"linux_云计算_docker.md\":\"BR4nlvBr\",\"linux_云计算_函数计算.md\":\"DdHSvtdb\",\"linux_基础.md\":\"FrhlGG5A\",\"linux_常用语言入门_c__入门.md\":\"DiGClf8U\",\"linux_常用语言入门_c语言入门.md\":\"gH3sdo5o\",\"linux_常用语言入门_java入门.md\":\"B3afQF9e\",\"linux_网络协议_tcp-ip.md\":\"-BwLIwlG\",\"temp notes_office.md\":\"C5MITBlC\",\"人工智能_index.md\":\"Dg2YDT4Z\",\"人工智能_python_http和web.md\":\"BSB62P5H\",\"人工智能_python_index.md\":\"Br81O27V\",\"人工智能_python_jupyter.md\":\"CTkLuxIV\",\"人工智能_python_numpy.md\":\"DT7cvYLl\",\"人工智能_python_pandas.md\":\"DSfSS-aW\",\"人工智能_python_元组和映射.md\":\"DUj3K9G4\",\"人工智能_python_函数.md\":\"D98ZXQYr\",\"人工智能_python_列表.md\":\"ClljJYno\",\"人工智能_python_基础和语法.md\":\"N1ipSJZg\",\"人工智能_python_字典.md\":\"BKW-CCuz\",\"人工智能_python_字符串.md\":\"Ck3pcJd1\",\"人工智能_python_序列.md\":\"Bs8QPfFF\",\"人工智能_python_异步.md\":\"B-sTgisM\",\"人工智能_python_时间模块.md\":\"C-MLWOhD\",\"人工智能_python_模块和包管理.md\":\"CqWWwqU9\",\"人工智能_python_正则表达式.md\":\"w19OQgzn\",\"人工智能_python_系统控制.md\":\"DpHXd3CZ\",\"人工智能_python_读写文件系统.md\":\"BI257SWK\",\"人工智能_python_面向对象.md\":\"rzA_Grxy\",\"人工智能_sd_comfyui.md\":\"BjaYF3xK\",\"人工智能_sd_stable-diffusion.md\":\"COxso8et\",\"人工智能_大模型_gradio.md\":\"CXyzodCI\",\"人工智能_大模型_transformer.md\":\"DrwJnyzv\",\"人工智能_大模型_大模型.md\":\"CDPSnyYa\",\"前端_css_index.md\":\"D8HNU9Lf\",\"前端_css_tailwindcss——响应式设计.md\":\"DvOzfCgM\",\"前端_css_tailwindcss——圆角.md\":\"DvhlnkIR\",\"前端_css_tailwindcss——媒体查询.md\":\"B2ZVHmxx\",\"前端_css_tailwindcss——宽度和高度.md\":\"Bq1HJ_nF\",\"前端_css_tailwindcss——布局.md\":\"H6aUzPb6\",\"前端_css_tailwindcss——弹性布局.md\":\"BXnX70_O\",\"前端_css_tailwindcss——文本.md\":\"2PI3NfDG\",\"前端_css_tailwindcss——背景.md\":\"C2AAXRIs\",\"前端_css_媒体查询.md\":\"CojOgsZU\",\"前端_css_定位.md\":\"D4_7tKy_\",\"前端_css_容器查询.md\":\"0jDsIROh\",\"前端_css_常见的颜色名称参考.md\":\"CRVPZ1rF\",\"前端_css_文字样式.md\":\"CmZc-4O9\",\"前端_css_样式优先级.md\":\"BURYwMc_\",\"前端_css_浮动.md\":\"C7w2rSPK\",\"前端_css_特效.md\":\"P0pqKlYY\",\"前端_css_背景、边框、轮廓.md\":\"BorGPuUP\",\"前端_css_选择器.md\":\"BpX9GrUO\",\"前端_css_锚点定位.md\":\"DhcL8DeP\",\"前端_electron_index.md\":\"DQERyuYT\",\"前端_html_a元素.md\":\"D09cUJQE\",\"前端_html_input元素.md\":\"Dt6-0VfK\",\"前端_html_input元素与表单提交.md\":\"D6cMJLVk\",\"前端_html_select表单元素.md\":\"DrL2Nfh3\",\"前端_html_video元素.md\":\"Bx_A_MBS\",\"前端_html_段落元素：p.md\":\"Dx7BgoB0\",\"前端_html_节点的属性.md\":\"CVWgROJ0\",\"前端_html_表单.md\":\"Bx3_KAHS\",\"前端_html_表格.md\":\"CjZr2XVK\",\"前端_html_音频.md\":\"hL6P4v6f\",\"前端_html_预格式文本元素pre和代码块元素code.md\":\"CRWsINLW\",\"前端_javascript_index.md\":\"DCaH1esg\",\"前端_javascript_代理.md\":\"Biw7lNFH\",\"前端_javascript_函数.md\":\"l4rz7JLu\",\"前端_javascript_原型和原型链.md\":\"C8PcoUCY\",\"前端_javascript_基础和语法.md\":\"sDjTSVq6\",\"前端_javascript_字符串.md\":\"BfnNRK7W\",\"前端_javascript_对象.md\":\"CO4zr1p1\",\"前端_javascript_数组.md\":\"bJKraIuh\",\"前端_javascript_期约和异步.md\":\"BJg7a2N9\",\"前端_javascript_正则表达式.md\":\"DMnXAs0I\",\"前端_javascript_迭代器和生成器.md\":\"CMxIAgUz\",\"前端_javascript_集合和映射.md\":\"C7Yfim_y\",\"前端_javascript_面向对象.md\":\"B-v0IqrG\",\"前端_node.js_http.md\":\"C4rNOUvT\",\"前端_node.js_index.md\":\"CAPx-tHu\",\"前端_node.js_npm.md\":\"DPyu9DC9\",\"前端_node.js_zx.js——使用.md\":\"CfJ_9JGD\",\"前端_node.js_zx.js——内置函数.md\":\"D_fAfk7k\",\"前端_node.js_zx.js——简介.md\":\"C7vktvoW\",\"前端_node.js_文件读写.md\":\"UjNJ9q9G\",\"前端_node.js_模块.md\":\"CuBZ3Hf2\",\"前端_node.js_路径处理.md\":\"C0ni77P4\",\"前端_react-native_index.md\":\"Ct1Wc3Ty\",\"前端_react_index.md\":\"CQXSeQpm\",\"前端_react_next.js.md\":\"DX1ZqOTj\",\"前端_react_props传值.md\":\"Dt8hHk4L\",\"前端_react_react-hooks.md\":\"C9NEbvpC\",\"前端_react_react基础.md\":\"DXegdZRO\",\"前端_react_redux全局状态管理.md\":\"BUZJyZzg\",\"前端_webrtc_index.md\":\"DurRa6rR\",\"前端_浏览器中的javascript_cookie.md\":\"BizT8Q7E\",\"前端_浏览器中的javascript_document对象.md\":\"DPkKfgSk\",\"前端_浏览器中的javascript_dom.md\":\"Cf6S_6pY\",\"前端_浏览器中的javascript_htmlelement类型.md\":\"TCixBwah\",\"前端_浏览器中的javascript_local storage.md\":\"FY3drh_L\",\"前端_浏览器中的javascript_requestanimationframe.md\":\"DEJwNwul\",\"前端_浏览器中的javascript_socket和websocket.md\":\"Cjhnqic4\",\"前端_浏览器中的javascript_web-api.md\":\"DuSD0PAY\",\"前端_浏览器中的javascript_元素的属性.md\":\"BKvg55Qz\",\"前端_浏览器中的javascript_理解dom.md\":\"cnHGY8BC\",\"前端_浏览器中的javascript_自定义事件.md\":\"Cvdfg68I\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"我的个人博客网站\",\"description\":\"个人博客网站\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>