参考： https://louiszhai.github.io/2017/09/30/tmux/  

## 基本概念

- 会话：一个tmux session（会话）可以包含多个window（窗口），窗口默认充满会话界面，因此这些窗口中可以运行相关性不大的任务。
- 面板：一个window又可以包含多个pane（面板），窗口下的面板，都处于同一界面下，这些面板适合运行相关性高的任务，以便同时观察到它们的运行情况。

总之，一个tmux程序可以包含多个会话，一个会话可以包含多个窗口，一个窗口可以包含多个面板。

![tmux界面构成 | 1200](http://louiszhai.github.io/docImages/tmux01.png)


## 安装

```
sudo apt install tmux
```

按下Ctrl+d或者显式输入exit命令，就可以退出 Tmux 窗口。

## 会话管理

tmux ls命令可以查看当前所有的 Tmux 会话。

新建会话：

```
tmux # 新建一个无名称的会话
tmux new -s demo # 新建一个名称为demo的会话
```

断开当前的会话：

```
tmux detach # 断开当前会话，会话在后台运行
```

也许你觉得这个太麻烦了，是的，tmux的会话中，我们已经可以使用tmux快捷键了。使用快捷键组合`Ctrl+b,d`，三次按键就可以断开当前会话。

进入之前的会话：

```
tmux a # 默认进入第一个会话
tmux a -t demo # 进入到名称为demo的会话
```

要关闭一个或所有会话，使用如下命令：

```
tmux kill-session -t demo # 关闭demo会话
tmux kill-server # 关闭服务器，所有的会话都将关闭
```

## 面板快捷指令

Tmux 窗口有大量的快捷键。所有快捷键都要通过前缀键唤起。默认的前缀键是Ctrl+b，即先按下Ctrl+b，快捷键才会生效。

最常使用的面板指令，其快捷键如下（省略了前缀Ctrl+B）：

- %    常用，当前面板左右一分为二，右侧新建面板
- "     当前面板上下一分为二，下侧新建面板
- x  关闭当前面板（关闭前需输入y or n确认）
- z  最大话当前面板，再重复一次按键后恢复正常
- !  将当前面板移动到新的窗口打开（原窗口存在两个及以上面板有效）
- ;  切换到最后一次使用的面板
- q  显示面板编号，在编号消失前输入对应的数字可切换到相应的面板
- {  向前置换当前面板
- }  向后置换当前面板
- Ctrl+O   顺时针旋转当前窗口的所有面板
- 方向键 移动光标切换面板
- o 选择下一面板，如果只有左右两个面板，则相当于在两个面板之间切换

## 会话快捷指令

- ？  显示快捷键帮助文档
- d    断开当前会话
- D   选择要断开的会话
- Ctrl+Z   挂起当前会话
- r    强制重载当前会话
- s   显示会话列表用于选择并切换
- ：  进入命令行模式，此时可直接输入ls等命令
- \[   进入复制模式，按q退出
- ]   粘贴复制模式中的文本
- ~   列出提示信息缓存

## 窗口（windows）快捷指令

- c   新建窗口
- &   关闭当前窗口（关闭前需输入y or n）确认
- 0~9   切换到指定窗口
- n  切换到下一窗口
- w   打开窗口列表，用于切换窗口
- ,(英文逗号)  重命名当前窗口
- .(英文句号)  修改当前窗口编号（适用于窗口重新排序）
- f  快速定位到窗口（输入关键字匹配窗口名称）

