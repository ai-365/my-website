<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker | 我的个人博客网站</title>
    <meta name="description" content="个人博客网站">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/blog/assets/style.CkMmmyrM.css" as="style">
    <link rel="preload stylesheet" href="/blog/vp-icons.css" as="style">
    
    <script type="module" src="/blog/assets/app.NdgFzaQX.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.CnFomNyw.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.CDwmhxVj.js">
    <link rel="modulepreload" href="/blog/assets/Linux_Docker.md.B5dIsawD.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bd45b254><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40f86efc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-40f86efc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-bd45b254 data-v-fb232767><div class="VPNavBar" data-v-fb232767 data-v-da0c6bb0><div class="wrapper" data-v-da0c6bb0><div class="container" data-v-da0c6bb0><div class="title" data-v-da0c6bb0><div class="VPNavBarTitle" data-v-da0c6bb0 data-v-dcd02d3b><a class="title" href="/blog/" data-v-dcd02d3b><!--[--><!--]--><!----><span data-v-dcd02d3b>我的个人博客网站</span><!--[--><!--]--></a></div></div><div class="content" data-v-da0c6bb0><div class="content-body" data-v-da0c6bb0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-da0c6bb0><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-da0c6bb0 data-v-60d4da9a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-60d4da9a data-v-dd4d226c data-v-27e5f2a7><span class="check" data-v-27e5f2a7><span class="icon" data-v-27e5f2a7><!--[--><span class="vpi-sun sun" data-v-dd4d226c></span><span class="vpi-moon moon" data-v-dd4d226c></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-da0c6bb0 data-v-700cb35d data-v-ec49d971><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ec49d971><span class="vpi-more-horizontal icon" data-v-ec49d971></span></button><div class="menu" data-v-ec49d971><div class="VPMenu" data-v-ec49d971 data-v-381ce922><!----><!--[--><!--[--><!----><div class="group" data-v-700cb35d><div class="item appearance" data-v-700cb35d><p class="label" data-v-700cb35d>Appearance</p><div class="appearance-action" data-v-700cb35d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-700cb35d data-v-dd4d226c data-v-27e5f2a7><span class="check" data-v-27e5f2a7><span class="icon" data-v-27e5f2a7><!--[--><span class="vpi-sun sun" data-v-dd4d226c></span><span class="vpi-moon moon" data-v-dd4d226c></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-da0c6bb0 data-v-aa5c404b><span class="container" data-v-aa5c404b><span class="top" data-v-aa5c404b></span><span class="middle" data-v-aa5c404b></span><span class="bottom" data-v-aa5c404b></span></span></button></div></div></div></div><div class="divider" data-v-da0c6bb0><div class="divider-line" data-v-da0c6bb0></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-bd45b254 data-v-1337b658><div class="container" data-v-1337b658><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1337b658 data-v-05f14d6b><button data-v-05f14d6b>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-bd45b254 data-v-d83a6a16><div class="VPDoc has-aside" data-v-d83a6a16 data-v-ddd4901f><!--[--><!--]--><div class="container" data-v-ddd4901f><div class="aside" data-v-ddd4901f><div class="aside-curtain" data-v-ddd4901f></div><div class="aside-container" data-v-ddd4901f><div class="aside-content" data-v-ddd4901f><div class="VPDocAside" data-v-ddd4901f data-v-9ff60a05><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-9ff60a05 data-v-7cf8e59d><div class="content" data-v-7cf8e59d><div class="outline-marker" data-v-7cf8e59d></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-7cf8e59d>On this page</div><ul class="VPDocOutlineItem root" data-v-7cf8e59d data-v-385136ab><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-9ff60a05></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ddd4901f><div class="content-container" data-v-ddd4901f><!--[--><!--]--><main class="main" data-v-ddd4901f><div style="position:relative;" class="vp-doc _blog_Linux_Docker" data-v-ddd4901f><div><h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h1><h2 id="镜像和容器的概念区别" tabindex="-1">镜像和容器的概念区别 <a class="header-anchor" href="#镜像和容器的概念区别" aria-label="Permalink to &quot;镜像和容器的概念区别&quot;">​</a></h2><p>一个镜像只是一个压缩文件，这是一种模板，可以使用镜像实例化多个容器。一个容器表示具体的一个实例，有自己的生命周期，包括启动、停止、删除。</p><p>镜像好比操作系统安装文件，容器好比通过此文件安装到机器上并运行起来的操作系统。</p><h2 id="docker主要命令汇总" tabindex="-1">docker主要命令汇总 <a class="header-anchor" href="#docker主要命令汇总" aria-label="Permalink to &quot;docker主要命令汇总&quot;">​</a></h2><ul><li>docker create imageName：从镜像创建一个容器</li><li>docker start imageName ：从镜像启动一个容器，或重启一个运行的容器</li><li>docker run imageName ： 从镜像启动一个容器</li><li>docker pause container ：挂起，也叫暂停</li><li>docker stop containerName：停止容器</li><li>docker kill containerName：停止容器</li><li>docker restart containerName ：重启</li><li>docker rm containerName：删除</li><li>docker ps : 查看容器信息</li><li>docker image ls ：查看本地镜像列表</li></ul><h2 id="docker-run命令" tabindex="-1">docker run命令 <a class="header-anchor" href="#docker-run命令" aria-label="Permalink to &quot;docker run命令&quot;">​</a></h2><p>docker run 用来启动一个容器，优先从本地寻找镜像，如果本地找不到，则从远程仓库拉取。</p><ul><li><code>-d</code> 后台启动，并返回容器ID。</li><li><code>-i</code>： 交互模式运行容器</li><li><code>-P</code> ： 随机端口映射，容器内部端口映射到主机是随机端口</li><li><code>-p</code> ： 指定端口映射，格式为 <code>-p 主机端口:容器端口</code>，如果端口一样，可以只写一个</li><li><code>-t</code>： 为容器重新分配一个伪输入终端，通常与-i搭配：-it</li><li><code>--name</code> ： 指定容器名称</li><li><code>-v</code> 指定一个目录映射到本地某个文件夹</li></ul><h2 id="docker-build命令" tabindex="-1">docker build命令 <a class="header-anchor" href="#docker-build命令" aria-label="Permalink to &quot;docker build命令&quot;">​</a></h2><p>根据Dockerfile配置文件，创建一个镜像。</p><p>默认配置文件为项目目录下的Dockerfile文件。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker build -t 镜像名称:tag  .</span></span></code></pre></div><p>最后的点号(.)表示将本目录下的所有文件打包成一个镜像，一定不能忽略。</p><h2 id="目录映射" tabindex="-1">目录映射 <a class="header-anchor" href="#目录映射" aria-label="Permalink to &quot;目录映射&quot;">​</a></h2><p>使用 <code>-v</code> 选项，可以将容器内的目录映射到本地主机，这样，两个目录下的内容始终是同步的。语法如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker run -it -v 宿主机目录:容器目录</span></span></code></pre></div><h2 id="编写dockerfile文件" tabindex="-1">编写Dockerfile文件 <a class="header-anchor" href="#编写dockerfile文件" aria-label="Permalink to &quot;编写Dockerfile文件&quot;">​</a></h2><p>Dockerfile是构建镜像的配置文件，Docker依据Dockerfile文件逐行执行其中的命令，从而构建我们所需的镜像。</p><h3 id="from-获取基础镜像" tabindex="-1">FROM ： 获取基础镜像 <a class="header-anchor" href="#from-获取基础镜像" aria-label="Permalink to &quot;FROM ： 获取基础镜像&quot;">​</a></h3><p>FROM的作用是获取基础镜像，必须写且必须写在第一行。</p><p>FROM的格式为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>FROM image:tag</span></span></code></pre></div><p>image是镜像名称，tag是版本标签，一般为数字或latest，如果不写默认为最新版。</p><h3 id="copy-复制本地文件到镜像" tabindex="-1">COPY：复制本地文件到镜像 <a class="header-anchor" href="#copy-复制本地文件到镜像" aria-label="Permalink to &quot;COPY：复制本地文件到镜像&quot;">​</a></h3><p>COPY 的作用是将本地文件复制到镜像内的虚拟目录。COPY的语法格式为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>COPY src1 src2 ...  dest</span></span></code></pre></div><p>src可以是文件或目录。dest是镜像的目标目录。不过，尽量不要将src写成文件夹，因为会复制整个目录的内容,包括文件系统元数据。</p><p>文件名支持使用通配符。</p><p>COPY命令的示例如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>COPY  *.html  *.js  *.css  /opt</span></span></code></pre></div><p>复制文件还有一个命令是ADD。ADD和COPY都是复制，但由于COPY命令更透明，一般优先使用COPY。</p><h3 id="run-执行命令" tabindex="-1">RUN：执行命令 <a class="header-anchor" href="#run-执行命令" aria-label="Permalink to &quot;RUN：执行命令&quot;">​</a></h3><p>RUN的作用是在构建时执行一条或多条命令，例如通过yum或apt下载软件包。</p><p>需要特别指出的是，Dockerfile的每一行命令被执行后都会新增一层镜像。因此，最佳的做法是将RUN执行的多条命令合并在一行写，用&amp;&amp;连接，这样有助于减小最终镜像的体积。</p><p>RUN命令示例如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>RUN echo 1 &amp;&amp; echo 2</span></span></code></pre></div><h3 id="workdir-设置初始目录" tabindex="-1">WORKDIR ：设置初始目录 <a class="header-anchor" href="#workdir-设置初始目录" aria-label="Permalink to &quot;WORKDIR ：设置初始目录&quot;">​</a></h3><p>WORKDIR的作用是设置容器启动后的初始目录，类似于cd。此后的命令都将以此为工作目录。</p><h3 id="env-设置环境变量" tabindex="-1">ENV：设置环境变量 <a class="header-anchor" href="#env-设置环境变量" aria-label="Permalink to &quot;ENV：设置环境变量&quot;">​</a></h3><p>ENV的作用是设置环境变量，可以一次设置一个：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ENV key1=value1 key2=value2</span></span></code></pre></div><h3 id="cmd-容器启动后的初识命令" tabindex="-1">CMD ：容器启动后的初识命令 <a class="header-anchor" href="#cmd-容器启动后的初识命令" aria-label="Permalink to &quot;CMD ：容器启动后的初识命令&quot;">​</a></h3><p>从镜像开启容器实例后运行的初始命令，初始命令只能有一个。</p><p>CMD命令包括各选项参数用引号包裹，各个部分逗号隔开。例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CMD echo &quot;hello&quot;</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-ddd4901f data-v-d088cbcb><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"css_index.md\":\"DziDd04Z\",\"css_容器查询_容器查询.md\":\"Ku9DHcrQ\",\"css_锚点定位_锚点定位.md\":\"Bjnib0iJ\",\"electron_index.md\":\"BIeRUx0y\",\"index.md\":\"Dg0NdIVj\",\"javascript_dom.md\":\"Cx2ZE1Ax\",\"javascript_index.md\":\"DoqsCnHb\",\"javascript_socket和websocket.md\":\"D0lViOVK\",\"javascript_web-api.md\":\"BVT1uSPO\",\"javascript_代理.md\":\"CIVjEl62\",\"javascript_函数.md\":\"CLyo3U0U\",\"javascript_原型和原型链.md\":\"IEcbU9SH\",\"javascript_基础和语法.md\":\"C-z07lgA\",\"javascript_字符串.md\":\"ehSEZaPq\",\"javascript_对象.md\":\"Bp6GdvuY\",\"javascript_数组.md\":\"BsKMhJJo\",\"javascript_期约和异步.md\":\"DNUtUVMH\",\"javascript_正则表达式.md\":\"BlRU5C8M\",\"javascript_迭代器和生成器.md\":\"CqWPkWP-\",\"javascript_集合和映射.md\":\"CeWHB5wT\",\"javascript_面向对象.md\":\"CQ2j_Kae\",\"linux_awk工具.md\":\"DGkDymm5\",\"linux_bash-shell.md\":\"CQeOvIfi\",\"linux_c__入门.md\":\"BZjpQ7Nx\",\"linux_c语言入门.md\":\"CSO25WYc\",\"linux_docker.md\":\"B5dIsawD\",\"linux_ffmpeg.md\":\"Du-u-dZE\",\"linux_git.md\":\"wY7sh-oB\",\"linux_index.md\":\"rugBpbgt\",\"linux_java入门.md\":\"BUYv43dQ\",\"linux_linux的进程和服务.md\":\"D0PZnsNv\",\"linux_powershell.md\":\"DS4L1yRC\",\"linux_sed工具.md\":\"BuTQ_BYa\",\"linux_tcp-ip.md\":\"D5fAa5U5\",\"linux_vim.md\":\"CB-CxG39\",\"linux_virtualbox.md\":\"o7eOcXdo\",\"linux_函数计算.md\":\"Cruj02rI\",\"linux_分区管理.md\":\"BfroBaWQ\",\"linux_命令行语法规则.md\":\"T77Fv55S\",\"linux_基础.md\":\"oSFSzRLi\",\"linux_常用命令.md\":\"CCne1EI9\",\"linux_文件权限.md\":\"5LqOhcDW\",\"linux_文件系统管理.md\":\"Cm9kML8w\",\"linux_管道和多命令组合.md\":\"CwWeLzl2\",\"linux_编写脚本.md\":\"CpP0Ki4N\",\"node.js_index.md\":\"BZRUMCM8\",\"python_http和web.md\":\"BdACzi96\",\"python_index.md\":\"BtHxHucH\",\"python_jupyter.md\":\"JgUx9FUm\",\"python_numpy.md\":\"87HDVQgI\",\"python_pandas.md\":\"KZZKq8zY\",\"python_元组和映射.md\":\"Bi5st3KJ\",\"python_函数.md\":\"Bll3OAtP\",\"python_列表.md\":\"C19lpSlu\",\"python_基础和语法.md\":\"DNbokraY\",\"python_字典.md\":\"Cl26FW4T\",\"python_字符串.md\":\"DG04I7sw\",\"python_序列.md\":\"BTxxSVbX\",\"python_异步.md\":\"CFGpyXND\",\"python_时间模块.md\":\"DxY1eAeb\",\"python_模块和包管理.md\":\"DwkV3xYS\",\"python_正则表达式.md\":\"CLCcTo2p\",\"python_系统控制.md\":\"C1pDJTg3\",\"python_读写文件系统.md\":\"DFP0rv4W\",\"python_面向对象.md\":\"BYITMUNS\",\"react-native_index.md\":\"BW0K48W2\",\"react_index.md\":\"j6UwfBc6\",\"temp notes_office.md\":\"DAe5By-a\",\"webrtc_index.md\":\"CUV8UKq6\",\"人工智能_comfyui.md\":\"CSRR5PQA\",\"人工智能_gradio.md\":\"h3fWslhS\",\"人工智能_index.md\":\"b6iNCpFl\",\"人工智能_stable-diffusion.md\":\"CJbcDXOu\",\"人工智能_transformer.md\":\"DtK7dKxs\",\"人工智能_大模型.md\":\"ByUrMcy-\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"我的个人博客网站\",\"description\":\"个人博客网站\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>